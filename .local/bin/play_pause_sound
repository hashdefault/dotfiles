#!/bin/bash

playerctl play-pause

status=$(playerctl status 2>/dev/null)
if [[ "$status" != "Playing" && "$status" != "Paused" ]]; then
  exit 0
fi

# Get metadata
artist=$(playerctl metadata artist 2>/dev/null)
artUrl=$(playerctl metadata mpris:artUrl | sed 's/file:\/\// /' 2>/dev/null)
album=$(playerctl metadata album 2>/dev/null)
title=$(playerctl metadata title 2>/dev/null)

if [[ $status == 'Playing' ]]; then
  notify-send -i $artUrl "  Music Player Playing" "$artist ~ $title 
Album: $album"
elif [[ $status == 'Paused' ]]; then
  notify-send -i $artUrl "  Music Player Paused " "$artist ~ $title 
Album: $album"
fi
